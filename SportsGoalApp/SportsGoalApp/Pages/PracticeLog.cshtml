@page
@model SportsGoalApp.Pages.PracticeLogModel
@{
    var today = DateTime.Now.ToString("yyyy-MM-dd");
}

<div class="form-container m-3">
<h2>Practice Log</h2>

<!-- Validation Summary -->

<form method="post">
    <!-- Goal Selection -->
    <div class="mb-3">
        <label asp-for="PracticeLog.GoalId" class="form-label">Goal</label>
        @if (Model.Goals != null && Model.Goals.Any())
        {
            <select asp-for="PracticeLog.GoalId" class="form-select">
                @foreach (var goal in Model.Goals)
                {
                    <option value="@goal.Id">@goal.Title</option>
                }
            </select>
        }
        else
        {
            <p class="text-danger">No goals available. Please add a goal first.</p>
        }
        <span asp-validation-for="PracticeLog.GoalId" class="text-danger"></span>
    </div>

    <!-- Date -->
    <div class="mb-3">
        <label asp-for="PracticeLog.DateTime" class="form-label">Date</label>
        <input asp-for="PracticeLog.DateTime" type="date" value="@today" class="form-control" />
        <span asp-validation-for="PracticeLog.DateTime" class="text-danger"></span>
    </div>

    <!-- Duration -->
    <div class="mb-3">
        <label asp-for="PracticeLog.Duration" class="form-label">Duration</label>
        <input asp-for="PracticeLog.Duration" type="number" placeholder="Enter duration" id="durationInput" class="form-control" />
        <select asp-for="PracticeLog.DurationUnit" id="durationUnit" class="form-select mt-2">
            <option value="minutes">Minutes</option>
            <option value="hours">Hours</option>
        </select>
        <span asp-validation-for="PracticeLog.Duration" class="text-danger"></span>
    </div>

    <!-- Activity -->
    <div class="mb-3">
        <label asp-for="PracticeLog.Activity" class="form-label">Activity</label>
        <textarea asp-for="PracticeLog.Activity" class="form-control" rows="3" placeholder="e.g., practice slap shots in the backyard"></textarea>
        <span asp-validation-for="PracticeLog.Activity" class="text-danger"></span>
    </div>

    <!-- Notes -->
    <div class="mb-3">
        <label asp-for="PracticeLog.Notes" class="form-label">Notes</label>
        <textarea asp-for="PracticeLog.Notes" class="form-control" rows="3" placeholder="e.g., felt good today"></textarea>
        <span asp-validation-for="PracticeLog.Notes" class="text-danger"></span>
    </div>

    <!-- Total Number -->
    <div class="mb-3">
        <label asp-for="PracticeLog.TotalNumber" class="form-label">Total</label>
        <input asp-for="PracticeLog.TotalNumber" type="number" class="form-control" />
        <span asp-validation-for="PracticeLog.TotalNumber" class="text-danger"></span>
    </div>

    <!-- Successful Number -->
    <div class="mb-3">
        <label asp-for="PracticeLog.SuccessfulNumber" class="form-label">Amount of Successful</label>
        <input asp-for="PracticeLog.SuccessfulNumber" type="number" class="form-control" />
        <span asp-validation-for="PracticeLog.SuccessfulNumber" class="text-danger"></span>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Submit</button>
</form>

    <a class="button text-light" id="dashboard" asp-page="/Dashboard">Back to dashboard</a>
